<div class="empresa-tela" *ngIf="empresaLogada!=undefined && empresaLogada != null && empresaLogada.cnpj">
    <h1 class="title-empresa">Bem vindo, {{empresaLogada.nome}}! Este espaço é o seu cantinho.</h1>

    <div class="header-empresa">
        <div (click)="mostraCardapio()"
            style="background-color:#EFEFE9; color: #F05D23; border: 1px solid #F05D23; width:100%;display: flex;justify-content: center; align-items: center;">
            <B> Cardapio da empresa </B>
        </div>
        <div (click)="mostraPedido()"
            style="background-color:#F05D23; color: #F2F2F2; width:100%;display: flex;justify-content: center; align-items: center;">
            <B> Pedidos</B>
        </div>
    </div>
    <div>

        <div *ngIf="!exibindoCardapio" class="pedidos-empresa">
            <div class="pedidos">
                <p style="color: #F2F2F2;"><b>Bem vindo aos seus pedidos </b> </p>

                <div *ngFor="let pedido of pedidosLista" style="border: 1px solid #f2f2f2;">
                    <div>
                        <h6 style="color: #F2F2F2; font-size: 25px;">Produtos</h6>
                        <div *ngFor="let item of pedido.itens">
                            <p style="color: #F2F2F2;">{{item.nomeItem}}</p>
                        </div>
                        <p class="coisasPedido"> <strong>Endereço:</strong> {{pedido.endereco}}</p>
                        <p class="coisasPedido"><strong>Nome do cliente:</strong> {{pedido.nomeCliente}}</p>
                        <p class="coisasPedido"><strong>Hora do pedido:</strong> {{ pedido.horaAtual | date:'HH:mm:ss'
                            }}</p>
                        <select [(ngModel)]="pedido.status" class="select" style="margin-right: 50px;">
                            <option value="Em espera">Em espera</option>
                            <option value="Em andamento">Em andamento</option>
                            <option value="Entregando">Pedido enviado para Entrega</option>
                            <option value="Concluido">Concluído</option>
                        </select>
                        <button class="button-add" (click)="alterarStatus(pedido)"
                            style="background-color: #F2F2F2; height: 25px; color: #F05D23;">Alterar status</button>
                    </div>
                </div>
                <br>
                <div *ngFor="let pedido of pedidosConcluidos"
                    style="background-color: #f2f2f2; border: 1px solid #F05D23;">
                    <p style="color: #F05D23;"><b>Aqui estão seus ultimos pedidos: </b> </p>
                    <h6 style="color: #F05D23; font-size: 25px;">Produtos</h6>
                    <div *ngFor="let item of pedido.itens">
                        <p style="color: #F05D23;">{{item.nomeItem}}</p>
                    </div>
                    <p class="coisasPedido" style="color: #F05D23;"> <strong>Endereço:</strong> {{pedido.endereco}}</p>
                    <p class="coisasPedido" style="color: #F05D23;"><strong>Nome do cliente:</strong>
                        {{pedido.nomeCliente}}</p>
                    <p class="coisasPedido" style="color: #F05D23;"><strong>Hora do pedido:</strong> {{ pedido.horaAtual
                        | date:'HH:mm:ss' }}</p>
                    <p class="coisasPedido" style="color: #F05D23;"><strong>Status:</strong> {{ pedido.status}}</p>
                </div>
            </div>
        </div>

        <div *ngIf="exibindoCardapio">

            <div class="empresa-adicionarItem">
                <p style="color: #F05D23;"><b>Selecione o tipo do seu cardápio aqui: </b> </p>
                <select [(ngModel)]="cardapioEmpresa.categoria" class="select">
                    <option value="Pizzas">Pizzas</option>
                    <option value="Lanches">Lanches</option>
                    <option value="Massas">Massas</option>
                    <option value="Doces">Doces</option>
                    <option value="Prato feito">Prato feito</option>
                    <option value="Bebidas">Bebidas</option>
                    <option value="Tudo" selected>Sem definição de categorias</option>
                </select>
                <p style="color: #F05D23;"><b>Adicione Itens ao seu Cardápio aqui: </b> </p>
                <div class="addItemGroup">
                    <input class="addItem" placeholder="novo item" type="text" [(ngModel)]="novoItemNome">
                    <input class="addItem" placeholder="preço" type="number" [(ngModel)]="novoItemPreco">
                    <button class="button-add" (click)="adicionarNovoItemAoCardapio()"
                        style="margin-bottom: 25px;"><b>Adicionar</b></button>
                </div>

            </div>
            <div class="mainCadastroItem">
                <div style="display: flex;flex-direction: column;">
                    <div *ngFor="let item of cardapioEmpresa.itensCardapio;index as indice"
                        style="display: flex; flex-direction: row; margin-top: 15px;">
                        <div style="display: flex;gap: 30px">
                            <p>Nome do item: {{item.nomeItem}}</p>
                            <p>Preço do item: {{item.precoItem}}</p>
                        </div>
                        <div>

                            <button class="btnAlterar" (click)="editarAtributos(indice);">Editar atributos</button>
                            <button class="btnAlterar" (click)="removerAtributos(indice);">Remover atributos</button>
                            <div *ngIf="editar && itemEditando==item" style="display: flex; flex-direction: row;">
                                <div style="padding: 25px;">
                                    <input [(ngModel)]="nomeItemAMudar" class="addItem" type="text"
                                        placeholder="Edite o nome">
                                    <input [(ngModel)]="precoItemAMudar" class="addItem" type="number"
                                        placeholder="Edite o preço">
                                    <button (click)="atualizarAtributos()" class="btnAlterar">Confirmar
                                        alterações</button>
                                </div>
                                <div *ngIf="!preenchido">
                                    <p>Preencha todos os campos</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

            </div>
        </div>
    </div>
</div>